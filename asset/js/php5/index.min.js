var svr="/panjar-biaya-perkara/proses/",tot_penggugat=0,tot_tergugat=0,adm=0,total_biaya=0,panggilan_penggugat=0,panggilan_tergugat=0,pip=0,pengumuman=0,ghaib=0,perkara="",ongkir_p=0,ongkir_t=0,pengembalian_p=0,pengembalian_t=0;function SKUM(){switch(perkara){case"cerai gugat":total_biaya=tot_penggugat+tot_tergugat+adm+parseInt(2*ongkir_p)+parseInt(2*pengembalian_p)+parseInt(3*ongkir_t)+parseInt(3*pengembalian_t),$("td#total-biaya").text(format_duit(total_biaya));break;case"cerai gugat ghaib":total_biaya=parseInt(tot_penggugat)+parseInt(tot_tergugat)+parseInt(pip)+parseInt(adm)+parseInt(2*ongkir_p)+parseInt(2*pengembalian_p),$("td#total-biaya").text(format_duit(total_biaya));break;case"cerai talak":total_biaya=tot_penggugat+tot_tergugat+adm+parseInt(3*ongkir_p)+parseInt(3*pengembalian_p)+parseInt(4*ongkir_t)+parseInt(4*pengembalian_t),$("td#total-biaya").text(format_duit(total_biaya));break;case"cerai talak ghaib":total_biaya=parseInt(tot_penggugat)+parseInt(tot_tergugat)+parseInt(pip)+parseInt(adm)+parseInt(3*ongkir_p)+parseInt(3*pengembalian_p),$("td#total-biaya").text(format_duit(total_biaya));break;case"dispensasi nikah":total_biaya=tot_penggugat+tot_tergugat+adm,$("td#total-biaya").text(format_duit(total_biaya));break;case"isbat nikah":total_biaya=tot_penggugat+tot_tergugat+adm+pengumuman,$("td#total-biaya").text(format_duit(total_biaya))}}function format_duit(a){var t=a.toString(),e=t.length%3,n=t.substr(0,e),g=t.substr(e).match(/\d{3}/g);return g&&(separator=e?".":"",n+=separator+g.join(".")),"Rp. "+n}$.ajax({url:svr+"perkara-read.php",type:"post",dataType:"json",success:function(a){if(1==a.success){var t=a.perkara;$.each(t,(function(a,t){$("select#perkara").append("<option value='"+t.perkara+"'>"+t.perkara+"</option>")}))}},error:function(a){alert("ada masalah, harap refresh halaman"),console.log(a)}}),$.ajax({url:svr+"kecamatan-read.php",type:"post",dataType:"json",success:function(a){if(1==a.success){var t=a.kecamatan;$.each(t,(function(a,t){$("select#kecamatan-penggugat").append("<option value="+t.id+">"+t.kecamatan+"</option>"),$("select#kecamatan-tergugat").append("<option value="+t.id+">"+t.kecamatan+"</option>")}))}},error:function(a){alert("ada masalah, harap refresh halaman"),console.log(a)}}),$("select#perkara").on("change",(function(){switch(tot_penggugat=0,tot_tergugat=0,adm=0,total_biaya=0,panggilan_penggugat=0,panggilan_tergugat=0,pip=0,pengumuman=0,ghaib=0,perkara=this.value,ongkir_p=0,ongkir_t=0,pengembalian_p=0,pengembalian_t=0,$("select#kecamatan-penggugat").val($("option:first",this).val()),$("select#kecamatan-tergugat").val($("option:first",this).val()),$("select#kelurahan-penggugat").empty(),$("select#kelurahan-penggugat").append("<option value=>--Pilih Kecamatan Dahulu--</option>"),$("select#kelurahan-tergugat").empty(),$("select#kelurahan-tergugat").append("<option value=>--Pilih Kecamatan Dahulu--</option>"),$("td#panggilan-penggugat").empty(),$("td#panggilan-tergugat").empty(),$("td#biaya-penggugat").empty(),$("td#biaya-tergugat").empty(),$("td#total-penggugat").empty(),$("td#total-tergugat").empty(),$("td#biaya-pip").empty(),$("td#biaya-adm").empty(),$("td#biaya-pengumuman").empty(),$("td#total-biaya").empty(),$("select#kecamatan-tergugat").show(),$("select#kelurahan-tergugat").show(),$(".gaib").hide(),$("option[value='0']").remove(),$("input[name='biaya-ongkir-p']").val(""),$("input[name='biaya-ongkir-t']").val(""),$("input[name='biaya-pengembalian-p']").val(""),$("input[name='biaya-pengembalian-t']").val(""),$(".lainnya-p").hide(),$(".lainnya-t").hide(),this.value){case"cerai gugat":$("#tr-pip").hide(),$("#tr-admin").show(),$("#tr-pengumuman").hide(),$("#tr-skum").show(),$("#pelapor").text("Penggugat"),$("#terlapor").text("Tergugat"),$("#judul-perkara").text(this.value),panggilan_penggugat=2,panggilan_tergugat=3,adm=126e3,$("#panggilan-penggugat").text(panggilan_penggugat),$("#panggilan-tergugat").text(panggilan_tergugat),$("#biaya-adm").text(format_duit(adm)),$("select#kecamatan-penggugat").prop("disabled",!1),$("select#kecamatan-tergugat").prop("disabled",!1),$("select#kecamatan-penggugat").append("<option value='0'>Lainnya</option>"),$("select#kecamatan-tergugat").append("<option value='0'>Lainnya</option>");break;case"cerai gugat ghaib":$("#tr-pip").show(),$("#tr-admin").show(),$("#tr-pengumuman").hide(),$("#tr-skum").show(),$("#pelapor").text("Penggugat"),$("#terlapor").text("Tergugat"),$("#judul-perkara").text(this.value),$("select#kecamatan-tergugat").hide(),$("select#kelurahan-tergugat").hide(),$(".gaib").show(),panggilan_penggugat=2,adm=126e3,pip=3e4,tot_tergugat=6e4*(panggilan_tergugat=2),$("#panggilan-penggugat").text(panggilan_penggugat),$("#panggilan-tergugat").text(panggilan_tergugat),$("#biaya-adm").text(format_duit(adm)),$("#biaya-pip").text(format_duit(pip)),$("td#biaya-tergugat").text(format_duit(6e4)),$("td#total-tergugat").text(format_duit(tot_tergugat)),$("select#kecamatan-penggugat").append("<option value='0'>Lainnya</option>");break;case"cerai talak":$("#tr-pip").hide(),$("#tr-admin").show(),$("#tr-pengumuman").hide(),$("#tr-skum").show(),$("#pelapor").text("Pemohon"),$("#terlapor").text("Termohon"),$("#judul-perkara").text(this.value),panggilan_penggugat=3,panggilan_tergugat=4,adm=126e3,$("#panggilan-penggugat").text(panggilan_penggugat),$("#panggilan-tergugat").text(panggilan_tergugat),$("#biaya-adm").text(format_duit(adm)),$("select#kecamatan-penggugat").prop("disabled",!1),$("select#kecamatan-tergugat").prop("disabled",!1),$("select#kecamatan-penggugat").append("<option value='0'>Lainnya</option>"),$("select#kecamatan-tergugat").append("<option value='0'>Lainnya</option>");break;case"cerai talak ghaib":$("#tr-pip").show(),$("#tr-admin").show(),$("#tr-pengumuman").hide(),$("#tr-skum").show(),$("#pelapor").text("Pemohon"),$("#terlapor").text("Termohon"),$("#judul-perkara").text(this.value),$("select#kecamatan-tergugat").hide(),$("select#kelurahan-tergugat").hide(),$(".gaib").show(),panggilan_penggugat=3,adm=126e3,pip=3e4,tot_tergugat=6e4*(panggilan_tergugat=2),$("#panggilan-penggugat").text(panggilan_penggugat),$("#panggilan-tergugat").text(panggilan_tergugat),$("#biaya-adm").text(format_duit(adm)),$("#biaya-pip").text(format_duit(pip)),$("td#biaya-tergugat").text(format_duit(6e4)),$("td#total-tergugat").text(format_duit(tot_tergugat)),$("select#kecamatan-penggugat").append("<option value='0'>Lainnya</option>");break;case"dispensasi nikah":$("#tr-pip").hide(),$("#tr-admin").show(),$("#tr-pengumuman").hide(),$("#tr-skum").show(),$("#pelapor").text("Pemohon I"),$("#terlapor").text("Pemohon II"),$("#judul-perkara").text(this.value),panggilan_penggugat=2,panggilan_tergugat=2,adm=126e3,$("#panggilan-penggugat").text(panggilan_penggugat),$("#panggilan-tergugat").text(panggilan_tergugat),$("#biaya-adm").text(format_duit(adm)),$("select#kecamatan-penggugat").prop("disabled",!1),$("select#kecamatan-tergugat").prop("disabled",!1);break;case"isbat nikah":$("#tr-pip").hide(),$("#tr-admin").show(),$("#tr-pengumuman").show(),$("#tr-skum").show(),$("#pelapor").text("Pemohon I"),$("#terlapor").text("Pemohon II"),$("#judul-perkara").text(this.value),panggilan_penggugat=2,panggilan_tergugat=2,adm=116e3,pengumuman=6e4,$("#panggilan-penggugat").text(panggilan_penggugat),$("#panggilan-tergugat").text(panggilan_tergugat),$("#biaya-adm").text(format_duit(adm)),$("#biaya-pengumuman").text(format_duit(pengumuman)),$("select#kecamatan-penggugat").prop("disabled",!1),$("select#kecamatan-tergugat").prop("disabled",!1);break;default:$("select#kecamatan-penggugat").prop("disabled","disabled"),$("select#kecamatan-tergugat").prop("disabled","disabled")}})),$("select#kecamatan-penggugat").on("change",(function(){var a=this.value;""!=this.value&&0!=this.value?($(".lainnya-p").hide(),ongkir_p=0,pengembalian_p=0,$("td#total-biaya").empty(),$.ajax({url:svr+"kelurahan-read.php",type:"post",data:{id:a},dataType:"json",success:function(a){if(1==a.success){$("select#kelurahan-penggugat").empty(),$("select#kelurahan-penggugat").append("<option value=>--Pilih kelurahan--</option>"),$("td#biaya-penggugat").empty(),$("td#total-penggugat").empty();var t=a.kelurahan;$.each(t,(function(a,t){$("select#kelurahan-penggugat").append("<option value="+t.id+">"+t.kelurahan+"</option>")}))}},error:function(a){alert("ada masalah, harap refresh halaman"),console.log(a)}})):($(".lainnya-p").show(),$("td#total-biaya").empty(),$("td#biaya-penggugat").empty(),$("td#total-penggugat").empty(),$("select#kelurahan-penggugat").empty(),$("select#kelurahan-penggugat").append("<option>Masukkan biaya di kolom samping</option>"),$("td#biaya-penggugat").append("<input type='number' step='1000' name='manual_biaya_p' required class='text-kanan'> "),$("input[name='manual_biaya_p']").on("input",(function(){tot_penggugat=panggilan_penggugat*$(this).val(),$("td#total-penggugat").text(format_duit(tot_penggugat)),SKUM()})))})),$("select#kecamatan-tergugat").on("change",(function(){""!=this.value&&0!=this.value?($(".lainnya-t").hide(),$("td#total-biaya").empty(),ongkir_t=0,pengembalian_t=0,$.ajax({url:svr+"kelurahan-read.php",type:"post",data:{id:this.value},dataType:"json",success:function(a){if(1==a.success){$("select#kelurahan-tergugat").empty(),$("select#kelurahan-tergugat").append("<option value=>--Pilih kelurahan--</option>"),$("td#biaya-tergugat").empty(),$("td#total-tergugat").empty();var t=a.kelurahan;$.each(t,(function(a,t){$("select#kelurahan-tergugat").append("<option value="+t.id+">"+t.kelurahan+"</option>")}))}},error:function(a){alert("ada masalah, harap refresh halaman"),console.log(a)}})):($(".lainnya-t").show(),$("td#total-biaya").empty(),$("td#biaya-tergugat").empty(),$("td#total-tergugat").empty(),$("select#kelurahan-tergugat").empty(),$("select#kelurahan-tergugat").append("<option>Masukkan biaya di kolom samping</option>"),$("td#biaya-tergugat").append("<input type='number' step='1000' name='manual_biaya_t' required style='text-align:right;'> "),$("tr#tr-ongkir-t").show(),$("tr#tr-pengembalian").show(),$("input[name='manual_biaya_t']").on("input",(function(){tot_tergugat=panggilan_tergugat*$(this).val(),$("td#total-tergugat").text(format_duit(tot_tergugat)),SKUM()})))})),$("select#kelurahan-penggugat").on("change",(function(){""!=this.value&&$.ajax({url:svr+"detail-radius.php",type:"post",data:{id:this.value},dataType:"json",success:function(a){if(1==a.success){var t=a.radius;tot_penggugat=panggilan_penggugat*t[0].biaya,$("td#biaya-penggugat").text(format_duit(t[0].biaya)),$("td#total-penggugat").text(format_duit(tot_penggugat)),SKUM()}},error:function(a){alert("ada masalah, harap refresh halaman"),console.log(a)}})})),$("select#kelurahan-tergugat").on("change",(function(){""!=this.value&&$.ajax({url:svr+"detail-radius.php",type:"post",data:{id:this.value},dataType:"json",success:function(a){if(1==a.success){var t=a.radius;tot_tergugat="cerai gugat ghaib"==perkara||"cerai talak ghaib"==perkara?12e4:panggilan_tergugat*t[0].biaya,"cerai gugat ghaib"==perkara||"cerai talak ghaib"==perkara?$("td#biaya-tergugat").text(format_duit(12e4)):$("td#biaya-tergugat").text(format_duit(t[0].biaya)),$("td#total-tergugat").text(format_duit(tot_tergugat)),SKUM()}},error:function(a){alert("ada masalah, harap refresh halaman"),console.log(a)}})})),$("select#kecamatan-penggugat").on("click",(function(){""==perkara&&alert("Silahkan Pilih Perkara Terlebih Dahulu")})),$("select#kecamatan-tergugat").on("click",(function(){""==perkara&&alert("Silahkan Pilih Perkara Terlebih Dahulu")})),$("input[name='biaya-ongkir-p']").on("input",(function(){ongkir_p=$(this).val(),SKUM()})),$("input[name='biaya-ongkir-t']").on("input",(function(){ongkir_t=$(this).val(),SKUM()})),$("input[name='biaya-pengembalian-p']").on("input",(function(){pengembalian_p=$(this).val(),SKUM()})),$("input[name='biaya-pengembalian-t']").on("input",(function(){pengembalian_t=$(this).val(),SKUM()})),$(document).ready((function(){var a,t,e;$.ajax({url:svr+"get-token.php",method:"GET",dataType:"json",success:function(n){if(1==n.success){var g=n.setting[0];a=g.token,t=g.nama_pa,e=g.nama_pa_pendek,$.ajax({url:"https://raw.githubusercontent.com/topyk27/Panjar-Biaya-Perkara/master/asset/js/token.json",method:"GET",dataType:"json",success:function(n){try{t==n[e][0].nama_pa&&e==n[e][0].nama_pa_pendek&&a==n[e][0].token||location.replace(Math.random())}catch(a){location.replace(Math.random())}},error:function(n){$.ajax({url:"/panjar-biaya-perkara/asset/js/token.json",method:"GET",dataType:"json",success:function(n){t==n[e][0].nama_pa&&e==n[e][0].nama_pa_pendek&&a==n[e][0].token||location.replace(Math.random())},error:function(a){location.replace(Math.random())}})}})}else location.replace(Math.random())},error:function(a){location.replace(Math.random())}})}));